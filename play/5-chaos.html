<!-- Styles! -->
<link href="css/loopy.css" rel="stylesheet"/>

<!-- Scripts! -->
<script src="js/minpubsub.js"></script>
<script src="js/helpers.js"></script>
<script src="js/Mouse.js"></script>
<script src="js/Node.js"></script>
<script src="js/Edge.js"></script>
<script src="js/Loopy.js"></script>
<script>

// RANDOM VARS.
var _a = [];
for(var i=0;i<12;i++){
	var weight = 0.1+Math.random()*0.35;
	/*if(Math.random()<0.3){
		weight = 0.1;
	}else if(Math.random()<0.5){
		weight = 0.5;
	}else{
		weight = 1;
	}*/
	if(Math.random()<0.5) weight*=-1;
	_a.push(weight);
}
//_a = [-0.49463228101765677,-0.12107841799318347,-0.7003000737591504,0.8470419710804892,0.7190604551912235,0.9223373949741883,0.4640606729802351,-0.2128870249140134,-0.906290885194138,-0.9625606953730025,0.45144731734116006,-0.8137153806438335];
//_a = [-0.17756724155591988,0.08780257554225838,-0.019829350156751933,0.29462053942563365,-0.23409365535167126,0.1417505599000062,-0.22928907244863006,0.0021742781125065444,0.09858188888529058,-0.16064414878843594,-0.18251604904193755,-0.03565594878808853];
_a = [0.3173403142250317,0.3158465024077639,0.19027881474073777,0.14485280813192977,-0.38767473696705523,0.3713712342347071,0.3810066824126682,-0.3349528795814148,-0.42727817129193724,-0.1537707835062055,0.2861506412530025,-0.316190015307235];

// MODEL! Just straight-up chaos
var model = {
	width: 500,
	height: 470,
	meta: {
		radius: 60,
		speed: 1
	},
	nodes: [
		{
			id: 0,
			label: "B",
			hue: 60,
			x:250, y:250,
			value: 0
		},
		{
			id: 1,
			label: "A",
			hue: 0,
			x:250 + 170*Math.sin(0*(Math.TAU/360)), y:250 - 170*Math.cos(0*(Math.TAU/360)),
			value: 0
		},
		{
			id: 2,
			label: "D",
			hue: 120,
			x:250 + 170*Math.sin(120*(Math.TAU/360)), y:250 - 170*Math.cos(120*(Math.TAU/360)),
			value: 0
		},
		{
			id: 3,
			label: "C",
			hue: 240,
			x:250 + 170*Math.sin(240*(Math.TAU/360)), y:250 - 170*Math.cos(240*(Math.TAU/360)),
			value: 0
		}
	],
	edges: [
		
		// 0 to everyone else
		{ from:0, to:1, arc:40, strength:_a[0] },
		{ from:1, to:0, arc:40, strength:_a[1] },
		{ from:0, to:2, arc:40, strength:_a[2] },
		{ from:2, to:0, arc:40, strength:_a[3] },
		{ from:0, to:3, arc:40, strength:_a[4] },
		{ from:3, to:0, arc:40, strength:_a[5] },

		// outer circle
		{ from:1, to:2, arc:60, strength:_a[6] },
		{ from:2, to:1, arc:-100, strength:_a[7] },
		{ from:2, to:3, arc:60, strength:_a[8] },
		{ from:3, to:2, arc:-100, strength:_a[9] },
		{ from:3, to:1, arc:60, strength:_a[10] },
		{ from:1, to:3, arc:-100, strength:_a[11] },

	]
};

window.onload = function(){

	// Make a LOOPY out of it.
	window.loopy = new Loopy(model);
	document.body.appendChild(loopy.canvas);

};
</script>